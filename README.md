# 画像解析アプリ - Azure OpenAI Service

Azure OpenAI Serviceを使用して画像を解析するブラウザベースのWebアプリケーションです。

## 機能

- 画像のドラッグ&ドロップ/ファイル選択
- 事前設定されたプロンプトの選択
- カスタムプロンプトの入力
- Azure OpenAI Service（GPT-4 Vision）による画像解析
- 解析結果のコピー機能
- レスポンシブデザイン

## セットアップ

### 1. Azure OpenAI Serviceの準備

1. Azure ポータルでOpenAI リソースを作成
2. GPT-4 Vision対応のデプロイメントを作成
3. APIキーとエンドポイントを取得

### 2. 設定ファイルの編集

`config.js` ファイルを編集して、Azure OpenAI Serviceの設定を入力してください：

```javascript
const CONFIG = {
    azure: {
        endpoint: 'https://your-resource-name.openai.azure.com', // あなたのエンドポイント
        apiKey: 'your-api-key-here', // あなたのAPIキー
        apiVersion: '2024-02-01',
        deploymentName: 'gpt-4-vision-preview' // あなたのデプロイメント名
    },
    // ...
};
```

### 3. アプリケーションの起動

1. すべてのファイルを同じディレクトリに配置
2. `index.html` をWebブラウザで開く
3. または、ローカルWebサーバーを起動：

```bash
# Python 3の場合
python -m http.server 8000

# Node.js（http-server）の場合
npx http-server
```

## 使用方法

1. **画像の選択**
   - 「画像を選択」ボタンをクリックするか
   - 画像ファイルをドラッグ&ドロップ

2. **プロンプトの選択**
   - プリセットプロンプトから選択するか
   - カスタムプロンプトを入力

3. **解析の実行**
   - 「画像を解析」ボタンをクリック

4. **結果の確認**
   - 解析結果が画面下部に表示
   - 「結果をコピー」ボタンで結果をクリップボードにコピー

## プリセットプロンプト

- **一般的な画像説明**: 画像の内容を詳しく説明
- **ビジネス分析**: ビジネス観点での分析
- **技術的分析**: 技術的な側面の分析  
- **クリエイティブ分析**: アート・美的要素の分析
- **教育的説明**: 教育的観点での説明
- **アクセシビリティ説明**: 視覚障害者向けの詳細説明

## サポートされるファイル形式

- JPEG (.jpg, .jpeg)
- PNG (.png)
- GIF (.gif)
- WebP (.webp)

## 制限事項

- 最大ファイルサイズ: 20MB
- APIリクエストタイムアウト: 30秒
- インターネット接続が必要

## トラブルシューティング

### 設定エラーが表示される場合
- `config.js` でエンドポイントとAPIキーが正しく設定されているか確認
- デプロイメント名が正しいか確認

### API呼び出しエラーが発生する場合
- Azure OpenAI リソースが有効か確認
- APIキーの有効期限を確認
- デプロイメントが稼働中か確認

### 画像がアップロードできない場合
- ファイル形式がサポートされているか確認
- ファイルサイズが制限内か確認

## セキュリティについて

- APIキーは機密情報です。本番環境では適切に保護してください
- このアプリケーションはクライアントサイドでAPIキーを使用するため、開発/テスト環境での使用を推奨します
- 本番環境では、バックエンドサーバー経由でAPI呼び出しを行うことを検討してください

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。